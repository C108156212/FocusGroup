{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst sslRedirect = function () {\n  let environments = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [\"production\"];\n  let status = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 302;\n  const currentEnv = process.env.NODE_ENV;\n  const isCurrentEnv = environments.includes(currentEnv);\n  return (req, res, next) => {\n    if (isCurrentEnv) {\n      req.headers[\"x-forwarded-proto\"] !== \"https\" ? res.redirect(status, \"https://\" + req.hostname + req.originalUrl) : next();\n    } else next();\n  };\n};\n\nexports.default = sslRedirect;","map":{"version":3,"mappings":";;;;;;AAIA,MAAMA,WAAW,GAAG,YAGhB;EAAA,IAFFC,YAEE,uEAF4B,CAAC,YAAD,CAE5B;EAAA,IADFC,MACE,uEADkB,GAClB;EACF,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAA/B;EAEA,MAAMC,YAAY,GAAGN,YAAY,CAACO,QAAb,CAAsBL,UAAtB,CAArB;EAEA,OAAO,CAACM,GAAD,EAAeC,GAAf,EAA8BC,IAA9B,KAAoD;IACzD,IAAIJ,YAAJ,EAAkB;MAChBE,GAAG,CAACG,OAAJ,CAAY,mBAAZ,MAAqC,OAArC,GACIF,GAAG,CAACG,QAAJ,CAAaX,MAAb,EAAqB,aAAaO,GAAG,CAACK,QAAjB,GAA4BL,GAAG,CAACM,WAArD,CADJ,GAEIJ,IAAI,EAFR;IAGD,CAJD,MAIOA,IAAI;EACZ,CAND;AAOD,CAfD;;AAiBAK,kBAAehB,WAAf","names":["sslRedirect","environments","status","currentEnv","process","env","NODE_ENV","isCurrentEnv","includes","req","res","next","headers","redirect","hostname","originalUrl","exports"],"sources":["../src/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}